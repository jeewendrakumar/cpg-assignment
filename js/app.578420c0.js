(function(){"use strict";var t={6200:function(t,e,o){var n=o(9242),s=o(3396);const l={class:"container-fluid"},a={class:"row"},i={class:"col-sm-6 col-md-4"},r={class:"card mb-4"},c={class:"card-body cb-height"},u={key:0,class:"col-sm-6 col-md-4"},d={class:"card mb-4"},p={class:"card-body cb-height"},g={key:0,class:"col-sm-12 col-md-4"},m={class:"card mb-4"},h={class:"card-body cb-height"};function v(t,e,o,v,b,f){const O=(0,s.up)("TheHeader"),w=(0,s.up)("TheAlert"),_=(0,s.up)("CreatePoll"),L=(0,s.up)("SubmitVote"),y=(0,s.up)("PollResult");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(O),t.showMessage?((0,s.wg)(),(0,s.j4)(w,{key:0,message:t.getSuccessMsg},null,8,["message"])):(0,s.kq)("",!0),(0,s._)("div",l,[(0,s._)("div",a,[(0,s.Wm)(n.uT,{name:"fade",mode:"out-in"},{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("div",r,[(0,s._)("div",c,[(0,s.Wm)(_)])])])])),_:1}),(0,s.Wm)(n.uT,{name:"fade",mode:"out-in"},{default:(0,s.w5)((()=>[t.getQuestion&&t.getOptionsLength?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",d,[(0,s._)("div",p,[(0,s.Wm)(L)])])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(n.uT,{name:"fade",mode:"out-in"},{default:(0,s.w5)((()=>[0!=t.getTotalVotes||t.getOptionsLength>0?((0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("div",m,[(0,s._)("div",h,[(0,s.Wm)(y)])])])):(0,s.kq)("",!0)])),_:1})])])],64)}const b=t=>((0,s.dD)("data-v-e9b1cfd6"),t=t(),(0,s.Cn)(),t),f={class:"navbar sticky-top narbar-custom mb-4"},O=b((()=>(0,s._)("div",{class:"container-fluid"},[(0,s._)("a",{class:"navbar-brand",href:"#"},"Sir Vote-a-lot")],-1))),w=[O];function _(t,e,o,n,l,a){return(0,s.wg)(),(0,s.iD)("nav",f,w)}var L={},y=o(89);const V=(0,y.Z)(L,[["render",_],["__scopeId","data-v-e9b1cfd6"]]);var k=V,C=o(7139);const P=t=>((0,s.dD)("data-v-3c96d13a"),t=t(),(0,s.Cn)(),t),M={class:"poll-question form-group"},T=P((()=>(0,s._)("h5",{class:"card-title"},"Create a Poll",-1))),D=["maxlength"],I={class:"form-group cb-height"},S=["onUpdate:modelValue","maxlength"],x=["onClick"],Q=P((()=>(0,s._)("span",{"aria-hidden":"true"},"Ã—",-1))),A=[Q],W={class:"poll-options__add form-group"},q=["maxlength","disabled"],H=["disabled"],R={key:0,class:"mx-auto"},$=P((()=>(0,s._)("label",{class:"alert alert-danger p-1",role:"alert"}," Add atleast 2 option to Vote ",-1))),Z=[$],j={class:"poll-create__btn"},z=["innerHTML"];function B(t,e,o,l,a,i){const r=(0,s.up)("the-loader");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r,{active:t.loaderActive,message:"Please wait 2 seconds"},null,8,["active"]),(0,s._)("section",M,[T,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",maxlength:t.getCharacterLength,"onUpdate:modelValue":e[0]||(e[0]=e=>t.$store.state.poll.question=e),placeholder:"Type a question?"},null,8,D),[[n.nr,t.$store.state.poll.question,void 0,{trim:!0}]])]),(0,s._)("section",I,[(0,s.Wm)(n.W3,{name:"list"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.getOptions,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"poll-options__remove list-item",key:o},[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",name:"options","onUpdate:modelValue":t=>e.value=t,maxlength:t.getCharacterLength},null,8,S),[[n.nr,e.value]]),(0,s._)("button",{type:"submit",class:"btn btn-danger close","aria-label":"Close",onClick:e=>t.removePollOption(o)},A,8,x)])))),128))])),_:1}),(0,s._)("div",W,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",name:"options",placeholder:"Type an answer","onUpdate:modelValue":e[1]||(e[1]=e=>t.$store.state.pollOptionInput=e),onKeyup:e[2]||(e[2]=(0,n.D2)(((...e)=>t.addPoll&&t.addPoll(...e)),["enter"])),maxlength:t.getCharacterLength,disabled:t.getOptionsLength==t.getAllowedOptionLimit||!t.getQuestion},null,40,q),[[n.nr,t.$store.state.pollOptionInput,void 0,{trim:!0}]]),(0,s._)("button",{type:"submit",class:(0,C.C_)({btn:!0,add:!0,"btn-success":t.getQuestion&&t.getOptionInput,"btn-secondary":!t.getQuestion||!t.getOptionInput}),"aria-label":"Add",onClick:e[3]||(e[3]=(...e)=>t.addPoll&&t.addPoll(...e)),disabled:!t.getQuestion||!t.getOptionInput}," Add ",10,H)]),t.getOptionsLength>0&&t.getOptionsLength<2?((0,s.wg)(),(0,s.iD)("div",R,Z)):(0,s.kq)("",!0)]),(0,s._)("section",j,[(0,s._)("h6",{class:"alert alert-info m-0 p-2",innerHTML:t.getOptionLimitMessage},null,8,z),(0,s._)("button",{onClick:e[4]||(e[4]=(...e)=>t.resetPoll&&t.resetPoll(...e)),class:"btn btn-primary reset","aria-label":"Reset"}," Reset ")])],64)}const U=t=>((0,s.dD)("data-v-f75e9834"),t=t(),(0,s.Cn)(),t),E={key:0,class:"loader-wrapper"},Y=U((()=>(0,s._)("div",{class:"loader"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1)));function K(t,e,o,l,a,i){return o.active?((0,s.wg)(),(0,s.iD)("div",E,[Y,(0,s.wy)((0,s._)("p",null,(0,C.zw)(o.message),513),[[n.F8,o.message]])])):(0,s.kq)("",!0)}var F={name:"TheLoader",props:{active:Boolean,message:String}};const G=(0,y.Z)(F,[["render",K],["__scopeId","data-v-f75e9834"]]);var N=G,J={data:()=>({loaderActive:!1}),methods:{showLoader(){this.loaderActive=!0},hideLoader(){this.loaderActive=!1}}},X=o(65),tt={components:{TheLoader:N},mixins:[J],methods:{loadSpinner(){this.showLoader(),setTimeout((()=>{this.hideLoader()}),2e3)},...(0,X.nv)(["addPoll","removePollOption","resetPoll"])},computed:{...(0,X.Se)(["getOptionLimitMessage","getQuestion","getOptions","getOptionsLength","getAllowedOptionLimit","getCharacterLength","getOptionInput","getQuestionInput"])},mounted(){this.loadSpinner()}};const et=(0,y.Z)(tt,[["render",B],["__scopeId","data-v-3c96d13a"]]);var ot=et;const nt={class:"card-title"},st={class:"poll-result cb-height"},lt={class:"total-votes"},at=["innerHTML"];function it(t,e,o,n,l,a){const i=(0,s.up)("BarChart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("h5",nt,(0,C.zw)(t.getQuestion),1),(0,s._)("section",st,[(0,s.Wm)(i,{optionsList:t.getOptions,pollResult:t.getSubmittedVotesList},null,8,["optionsList","pollResult"])]),(0,s._)("section",lt,[(0,s._)("h6",{class:"alert alert-info m-0 p-2",innerHTML:t.getTotalVotesMessage},null,8,at)])],64)}function rt(t,e,o,n,l,a){const i=(0,s.up)("Bar");return(0,s.wg)(),(0,s.j4)(i,{id:"my-chart-id",options:l.chartOptions,data:a.chartData},null,8,["options","data"])}o(7658);var ct=o(5866),ut=o(3254),dt=o(3013);const pt={id:"increase-legend-spacing",beforeInit(t){const e=t.legend.fit;t.legend.fit=function(){e.bind(t.legend)(),this.height+=20}}};ut.kL.register(ut.Dx,ut.u,ut.De,ut.ZL,ut.uw,ut.f$,dt.Z,pt);var gt={name:"BarChart",components:{Bar:ct.$Q},emits:["total-votes"],props:["optionsList","pollResult"],data(){return{chartOptions:{responsive:!0,maintainAspectRatio:!0,scales:{x:{grid:{drawOnChartArea:!1},ticks:{font:{weight:"bold"}}},y:{grid:{drawOnChartArea:!1},ticks:{display:!1}}},plugins:{legend:{display:!1,labels:{boxWidth:0,font:{size:18,weight:"bold"},padding:.15},onClick:t=>t.stopPropagation()},datalabels:{anchor:"end",align:"top",formatter:Math.round,font:{weight:"bold"}}}}}},computed:{chartData(){const t=[],e=this.optionsList.map((t=>t.value)),o=this.pollResult.reduce(((t,e)=>(t[e]=(t[e]||0)+1,t)),{});e.forEach((e=>{t.push(o[e]||0)}));let n=0;return t.length&&(n=t.reduce(((t,e)=>t+e))),this.$store.dispatch({type:"totalVotesSubmitted",total:n}),{labels:e,datasets:[{data:t,barPercentage:1,categoryPercentage:1,backgroundColor:"rgb(23, 171, 218)",borderColor:"#fff",borderWidth:1}]}}}};const mt=(0,y.Z)(gt,[["render",rt]]);var ht=mt,vt={components:{BarChart:ht},methods:{submittedVotes(t){this.$store.dispatch({type:"totalVotesSubmitted",total:t.total})}},computed:{...(0,X.Se)(["getQuestion","getOptions","getTotalVotesMessage","getSubmittedVotesList"])}};const bt=(0,y.Z)(vt,[["render",it]]);var ft=bt;const Ot=t=>((0,s.dD)("data-v-e095605a"),t=t(),(0,s.Cn)(),t),wt={class:"card-title"},_t={class:"cb-height poll-section"},Lt={class:"form-check-label"},yt=["value"],Vt={class:(0,C.C_)({"vote-btn":!0,"vote-btn-right":!0})},kt=Ot((()=>(0,s._)("label",null,null,-1))),Ct=["disabled"];function Pt(t,e,o,l,a,i){return(0,s.wg)(),(0,s.iD)("form",{class:"poll-form",onSubmit:e[1]||(e[1]=(0,n.iM)((e=>t.addVote(a.selectedOption)),["prevent"]))},[(0,s._)("h5",wt,(0,C.zw)(t.getQuestion),1),(0,s._)("section",_t,[(0,s.Wm)(n.W3,{name:"list"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.getOptions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"form-check list-item",key:t.value},[(0,s._)("label",Lt,[(0,s.wy)((0,s._)("input",{type:"radio",class:"form-check-input",value:t.value,"onUpdate:modelValue":e[0]||(e[0]=t=>a.selectedOption=t)},null,8,yt),[[n.G2,a.selectedOption]]),(0,s.Uk)(" "+(0,C.zw)(t.value),1)])])))),128))])),_:1})]),(0,s._)("section",Vt,[kt,(0,s._)("button",{type:"submit",class:(0,C.C_)({btn:!0,"btn-primary":t.getOptionsLength||t.getOptionsLength>2||a.selectedOption,"btn-secondary":!t.getOptionsLength||t.getOptionsLength<2||!a.selectedOption}),disabled:!t.getOptionsLength||t.getOptionsLength<2||!a.selectedOption}," Vote ",10,Ct)])],32)}var Mt={data(){return{selectedOption:null}},methods:{...(0,X.nv)(["addVote"])},computed:{...(0,X.Se)(["getQuestion","getOptions","getOptionsLength"])}};const Tt=(0,y.Z)(Mt,[["render",Pt],["__scopeId","data-v-e095605a"]]);var Dt=Tt;const It={class:"custom-success",role:"alert"};function St(t,e,o,n,l,a){return(0,s.wg)(),(0,s.iD)("div",It,(0,C.zw)(o.message),1)}var xt={props:["message"]};const Qt=(0,y.Z)(xt,[["render",St]]);var At=Qt,Wt={name:"App",components:{CreatePoll:ot,PollResult:ft,SubmitVote:Dt,TheHeader:k,TheAlert:At},computed:{...(0,X.Se)(["getQuestion","getOptions","getTotalVotes","getOptionsLength","getSuccessMsg","showMessage"])}};const qt=(0,y.Z)(Wt,[["render",v]]);var Ht=qt,Rt={createPoll(t){try{const e=t.poll.options.find((e=>e.value===t.pollOptionInput));if(e)return alert("No Duplicates Allowed!"),void(t.pollOptionInput="");t.poll.options.push({value:t.pollOptionInput}),t.pollOptionInput="",t.showMessage=!0,setTimeout((()=>{t.showMessage=!1}),1e3)}catch(e){console.log("Create Poll Error : ",e)}},removePollOption(t,e){try{t.poll.options.splice(e,1)}catch(o){console.log("Remove Option Error : ",o)}},resetPoll(t){t.poll={question:"",options:[]},t.pollQuestionInput=null,t.pollOptionInput=null,t.selectedOption=null,t.submittedVotes=[],t.totalVotes=0},addVote(t,e){try{t.submittedVotes.push(e),t.showMessage=!0,setTimeout((()=>{t.showMessage=!1}),1e3)}catch(o){console.log("Remove Option Error : ",o)}},totalVotesSubmitted(t,e){t.totalVotes=e.total}},$t={addPoll(t){t.commit("createPoll")},removePollOption(t,e){t.commit("removePollOption",e)},addVote(t,e){t.commit("addVote",e)},resetPoll(t){t.commit("resetPoll")},totalVotesSubmitted(t,e){t.commit("totalVotesSubmitted",e)},showMessage(t){console.log(t),t.commit("showMessage")}},Zt={getOptionLimitMessage(t){return`${t.poll.options.length}/${t.allowedOptionLimit} possible answers`},getTotalVotes(t){return t.totalVotes},getTotalVotesMessage(t){return`Total Votes: ${t.totalVotes}`},getQuestion(t){return t.poll.question},getOptions(t){return t.poll.options},getOptionsLength(t){return t.poll.options.length},getQuestionInput(t){return t.pollQuestionInput},getOptionInput(t){return t.pollOptionInput},getAllowedOptionLimit(t){return t.allowedOptionLimit},getCharacterLength(t){return t.maxLength},getSubmittedVotesList(t){return t.submittedVotes},getSuccessMsg(t){return t.successMsg},showMessage(t){return t.showMessage}};const jt=(0,X.MT)({namespaced:!0,state(){return{maxLength:80,poll:{question:"",options:[]},pollQuestionInput:null,pollOptionInput:null,allowedOptionLimit:10,selectedOption:null,submittedVotes:[],totalVotes:0,successMsg:"Success",showMessage:!1}},mutations:Rt,actions:$t,getters:Zt});var zt=jt;o(7024);const Bt=(0,n.ri)(Ht);Bt.use(zt),Bt.mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var l=e[n]={exports:{}};return t[n](l,l.exports,o),l.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,l){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],l=t[u][2];for(var i=!0,r=0;r<n.length;r++)(!1&l||a>=l)&&Object.keys(o.O).every((function(t){return o.O[t](n[r])}))?n.splice(r--,1):(i=!1,l<a&&(a=l));if(i){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[n,s,l]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,l,a=n[0],i=n[1],r=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(r)var u=r(o)}for(e&&e(n);c<a.length;c++)l=a[c],o.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return o.O(u)},n=self["webpackChunkcpg_assignment"]=self["webpackChunkcpg_assignment"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(6200)}));n=o.O(n)})();
//# sourceMappingURL=app.578420c0.js.map